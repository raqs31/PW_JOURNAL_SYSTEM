<ui:component xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:cc="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:p="http://primefaces.org/ui"
>
	<cc:interface>
		<cc:attribute name="userCC" type="pw.mario.common.api.UserList" required="true" />
	</cc:interface>
	<cc:implementation>
		<h:form>
			<p:panel id="tUserTable" header="#{ccRes.tUsersTittle}">
				<p:dataTable id="dtUserList" resizableColumns="true" var="u" value="#{cc.attrs.userCC.users}" border="1" rows="10"
					paginator="true"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10, 20, 30" lazy="true" sortMode="multiple" expandedRow="false" reflow="true" rendered="true"
					selectionMode="multiple" selection="#{cc.attrs.userCC.selectedUsers}" rowKey="#{u.id}" editable="true" 
				>
					<p:ajax event="rowSelect" listener="#{cc.attrs.userCC.onRowSelect}" />
					<p:ajax event="rowUnselect" listener="#{cc.attrs.userCC.onRowUnselect}" />
					<p:column id="cLogin" resizable="true" sortBy="#{u.login}" rendered="#{cc.attrs.userCC.loginRendered}">
						<f:facet name="header">#{ccRes.cUserLogin}</f:facet>
						<h:outputText value="#{u.login}" />
					</p:column>
					<p:column id="cName" resizable="true" sortBy="#{u.name}">
						<f:facet name="header">#{ccRes.cUserName}</f:facet>
						<h:outputText value="#{u.name}" />
					</p:column>
					<p:column id="cSecondName" resizable="true" sortBy="#{u.secondName}">
						<f:facet name="header">#{ccRes.cSecondName}</f:facet>
						<h:outputText value="#{u.secondName}" />
					</p:column>
					<p:column id="cEmail" resizable="true" sortBy="#{u.email}" rendered="#{cc.attrs.userCC.emailRendered}">
						<f:facet name="header">#{ccRes.cUserEmail}</f:facet>
						<h:outputText value="#{u.email}" />
					</p:column>
					<p:column id="cDepartment" resizable="true" sortBy="#{u.dept}">
						<f:facet name="header">#{ccRes.cUserDepartment}</f:facet>
						<h:outputText value="#{not empty  u.dept ? u.dept.deptCode : null}" />
					</p:column>
				</p:dataTable>
			</p:panel>
		</h:form>
	</cc:implementation>
</ui:component>
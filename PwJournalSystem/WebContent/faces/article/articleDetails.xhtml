<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui"
	xmlns:my="http://java.sun.com/jsf/composite/jsf/components"
>
<h:head>
	<title>#{articleDetailsController.article.name}</title>
</h:head>
<body>
	<ui:composition template="/resources/jsf/template/articleTemplate.xhtml">
		<ui:param name="article" value="#{articleDetailsController.article}" />
		<ui:define name="content">
			<f:facet name="header">Artykuł: Id@#{articleDetailsController.article.articleId} - #{articleDetailsController.article.name}</f:facet>
			<p:dataList value="#{article.tagList}" var="tag" paginator="false" type="none" emptyMessage="Brak" lazy="false">
				<p:outputLabel value="##{tag.name}"
					style="font-style:italic;font-variant:small-caps;text-decoration:none;font-size:16px;"
				/>
				<p:spacer width="4" />
			</p:dataList>
			<p:spacer width="100%" height="5" />
			<p:outputLabel value="Opis artykułu" for="sDescr" />
			<p:separator id="sDescr" />
			<p:outputPanel deferred="true">
				<p>
					<h:outputText value="#{article.description}" style="word-wrap:break-word;" />
				</p>
			</p:outputPanel>
			<p:outputLabel value="Wersje" for="sVersions" />
			<p:separator id="sVersions" />
			<p:dataTable id="dtVersions" var="ver" value="#{articleDetailsController.article.versions}" border="0" rows="10" paginator="true"
				emptyMessage="Brak wersji"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
			>
				<p:column sortable="false">
					<f:facet name="header">Wersja</f:facet>
					<h:outputText value="#{ver.versionNum}" />
				</p:column>
				<p:column sortable="false">
					<f:facet name="header">Utworzył</f:facet>
					<h:outputText value="#{ver.createdBy}" />
				</p:column>
				<p:column sortable="false">
					<f:facet name="header">Data utworzenia</f:facet>
					<h:outputText value="#{ver.creationDate}" />
				</p:column>
				<p:column sortable="false">
					<f:facet name="header">Załącznik</f:facet>
					<h:outputText value="#{ver.attachement}" />
				</p:column>
			</p:dataTable>
		</ui:define>
		<ui:define name="east">
			<f:facet name="header">Autorzy</f:facet>
			<p:dataList value="#{article.authors}" var="author" paginator="true" rows="15" type="unordered"
				styleClass="paginated" emptyMessage="Brak" lazy="true" paginatorPosition="bottom"
			>
				<p:column sortBy="#{author.name}">
					<h:outputText value="#{author.name} #{author.secondName}" />
				</p:column>
			</p:dataList>
		</ui:define>
		<ui:define name="south">
			<my:articleAction actions="#{articleDetailsController.actions}" />
		</ui:define>
	</ui:composition>
</body>
</html>
